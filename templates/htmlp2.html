<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Game Show - Player 2</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #f4f4f4; }
    h1 { color: #333; }
    .scoreboard { margin: 20px; font-size: 20px; }
    .buttons { display: flex; justify-content: center; gap: 50px; margin: 20px; }
    .player { border: 2px solid #333; padding: 20px; background: #fff; border-radius: 15px; }
    button { font-size: 18px; padding: 10px 20px; margin: 10px; cursor: pointer; border-radius: 10px; }
    .red { background: crimson; color: white; }
    .green { background: seagreen; color: white; }
  </style>
</head>
<body>
<h1>Game Show - Player 2</h1>

<div class="scoreboard">
  <p>Round: <span id="round">0</span></p>
  <p>Player 1 Score: <span id="score1">0</span></p>
  <p>Player 2 Score: <span id="score2">0</span></p>
  <p>Last Choices: <span id="choices">-</span></p>
</div>

<div class="buttons">
  <div class="player">
    <h2>Player 2</h2>
    <button class="green" onclick="choose('green')">Green</button>
    <button class="red" onclick="choose('red')">Red</button>
  </div>
</div>

<script>
function choose(color){
  fetch(`/runp2/${color}`, { method: "POST" });
}

async function updateStatus() {
  let res = await fetch('/status');
  let data = await res.json();
  document.getElementById("score1").innerText = data.s1;
  document.getElementById("score2").innerText = data.s2;
  document.getElementById("round").innerText = data.round;
  if(data.ok){
    document.getElementById("choices").innerText = 
      `Player 1: ${data.last_choice1}, Player 2: ${data.last_choice2}`;
  } else {
    document.getElementById("choices").innerText = '-';
  }
  if (data.round > 30) {
    document.getElementById("message").innerText = "Game Over!";
    return;
  }
}

setInterval(updateStatus, 500);
updateStatus();
</script>

</body>
</html>
