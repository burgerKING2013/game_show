<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Game Show</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #f4f4f4; }
    h1 { color: #333; }
    .scoreboard { margin: 20px; font-size: 20px; }
    .buttons { display: flex; justify-content: center; gap: 50px; margin: 20px; }
    .player { border: 2px solid #333; padding: 20px; background: #fff; }
    button { font-size: 18px; padding: 10px 20px; margin: 10px; cursor: pointer; }
    .red { background: crimson; color: white; }
    .green { background: seagreen; color: white; }
  </style>
</head>
<body>
  <h1>Game Show</h1>
  <div class="scoreboard">
    <p>Round: <span id="round">1</span> / 30</p>
    <p>Player 1 Score: <span id="score1">0</span></p>
    <p>Player 2 Score: <span id="score2">0</span></p>
  </div>

  <div class="buttons">
    <div class="player">
      <h2>Player 1</h2>
      <button class="green" onclick="choose('green')">Green</button>
      <button class="red" onclick="choose('red')">Red</button>
    </div>
  </div>

  <p id="message"></p>

  <script>
    let choice1 = null, choice2 = null;
    let round = 1;

    function choose(color) {
      if (round > 30) {
        document.getElementById("message").innerText = "Game Over!";
        return;
      }

      choice1 = color;

      if (choice1) {
        fetch(`/runp1/${choice1}`, {method: "POST"})
        .then(r => r.json())
        .then(data => {
          document.getElementById("score1").innerText = data.s1;
          document.getElementById("score2").innerText = data.s2;
          document.getElementById("round").innerText = round;
          choice2 = data.cchoice2
          document.getElementById("message").innerText =`Round ${round}: Player 1 chose ${choice1}, Player 2 chose ${choice2}`;
          // Reset
          choice1 = null;
          choice2 = null;
          round=data.round;
        });
      }
    }
  </script>
</body>
</html>